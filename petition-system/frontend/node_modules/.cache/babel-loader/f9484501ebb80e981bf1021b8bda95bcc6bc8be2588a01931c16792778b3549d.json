{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{login}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[role,setRole]=useState('official');const[code,setCode]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const onSubmit=async e=>{e.preventDefault();setError('');try{await login(role,code);navigate('/dashboard');}catch(err){var _err$response,_err$response$data;setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold mb-4\",children:\"Official/Admin Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),className:\"w-full border rounded p-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"official\",children:\"Official\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Unique Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:code,onChange:e=>setCode(e.target.value),className:\"w-full border rounded p-2\",placeholder:\"Enter code\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-blue-600 text-white rounded p-2\",children:\"Login\"})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","login","jsx","_jsx","jsxs","_jsxs","Login","role","setRole","code","setCode","error","setError","navigate","onSubmit","e","preventDefault","err","_err$response","_err$response$data","response","data","message","className","children","value","onChange","target","type","placeholder"],"sources":["/workspace/petition-system/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { login } from '../utils/api';\n\nexport default function Login() {\n  const [role, setRole] = useState('official');\n  const [code, setCode] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    try {\n      await login(role, code);\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err?.response?.data?.message || 'Login failed');\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto p-6\">\n      <h1 className=\"text-2xl font-semibold mb-4\">Official/Admin Login</h1>\n      <form onSubmit={onSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Role</label>\n          <select value={role} onChange={(e) => setRole(e.target.value)} className=\"w-full border rounded p-2\">\n            <option value=\"official\">Official</option>\n            <option value=\"admin\">Admin</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Unique Code</label>\n          <input type=\"password\" value={code} onChange={(e) => setCode(e.target.value)} className=\"w-full border rounded p-2\" placeholder=\"Enter code\" />\n        </div>\n        {error && <div className=\"text-red-600 text-sm\">{error}</div>}\n        <button className=\"w-full bg-blue-600 text-white rounded p-2\">Login</button>\n      </form>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,KAAK,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,cAAe,SAAS,CAAAC,KAAKA,CAAA,CAAG,CAC9B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,UAAU,CAAC,CAC5C,KAAM,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC5BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBJ,QAAQ,CAAC,EAAE,CAAC,CACZ,GAAI,CACF,KAAM,CAAAX,KAAK,CAACM,IAAI,CAAEE,IAAI,CAAC,CACvBI,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAE,MAAOI,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZP,QAAQ,CAAC,CAAAK,GAAG,SAAHA,GAAG,kBAAAC,aAAA,CAAHD,GAAG,CAAEG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeG,IAAI,UAAAF,kBAAA,iBAAnBA,kBAAA,CAAqBG,OAAO,GAAI,cAAc,CAAC,CAC1D,CACF,CAAC,CAED,mBACEjB,KAAA,QAAKkB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCrB,IAAA,OAAIoB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACrEnB,KAAA,SAAMS,QAAQ,CAAEA,QAAS,CAACS,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC7CnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,UAAOoB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC9DnB,KAAA,WAAQoB,KAAK,CAAElB,IAAK,CAACmB,QAAQ,CAAGX,CAAC,EAAKP,OAAO,CAACO,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAACF,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAClGrB,IAAA,WAAQsB,KAAK,CAAC,UAAU,CAAAD,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CrB,IAAA,WAAQsB,KAAK,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cACNnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,UAAOoB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cACrErB,IAAA,UAAOyB,IAAI,CAAC,UAAU,CAACH,KAAK,CAAEhB,IAAK,CAACiB,QAAQ,CAAGX,CAAC,EAAKL,OAAO,CAACK,CAAC,CAACY,MAAM,CAACF,KAAK,CAAE,CAACF,SAAS,CAAC,2BAA2B,CAACM,WAAW,CAAC,YAAY,CAAE,CAAC,EAC5I,CAAC,CACLlB,KAAK,eAAIR,IAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEb,KAAK,CAAM,CAAC,cAC7DR,IAAA,WAAQoB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,EACxE,CAAC,EACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}