{"ast":null,"code":"import React,{useEffect,useState}from'react';import{analytics,deletePetition}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[data,setData]=useState(null);const[error,setError]=useState('');useEffect(()=>{(async()=>{try{const res=await analytics();setData(res);}catch(err){var _err$response,_err$response$data;setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to load analytics');}})();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold mb-4\",children:\"Admin Dashboard\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600\",children:error}),data&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold\",children:data.totals.total}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-sm\",children:\"Total\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold\",children:data.totals.resolved}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-sm\",children:\"Resolved\"})]}),data.byStatus.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-semibold\",children:s.count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 text-sm\",children:s.status})]},s.status))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-sm text-gray-600\",children:\"Use APIs to delete petitions if needed.\"})]});}","map":{"version":3,"names":["React","useEffect","useState","analytics","deletePetition","jsx","_jsx","jsxs","_jsxs","AdminDashboard","data","setData","error","setError","res","err","_err$response","_err$response$data","response","message","className","children","totals","total","resolved","byStatus","map","s","count","status"],"sources":["/workspace/petition-system/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { analytics, deletePetition } from '../utils/api';\n\nexport default function AdminDashboard() {\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await analytics();\n        setData(res);\n      } catch (err) {\n        setError(err?.response?.data?.message || 'Failed to load analytics');\n      }\n    })();\n  }, []);\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-2xl font-semibold mb-4\">Admin Dashboard</h1>\n      {error && <div className=\"text-red-600\">{error}</div>}\n      {data && (\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n          <div className=\"bg-white p-4 rounded shadow\">\n            <div className=\"text-2xl font-semibold\">{data.totals.total}</div>\n            <div className=\"text-gray-600 text-sm\">Total</div>\n          </div>\n          <div className=\"bg-white p-4 rounded shadow\">\n            <div className=\"text-2xl font-semibold\">{data.totals.resolved}</div>\n            <div className=\"text-gray-600 text-sm\">Resolved</div>\n          </div>\n          {data.byStatus.map((s) => (\n            <div key={s.status} className=\"bg-white p-4 rounded shadow\">\n              <div className=\"text-2xl font-semibold\">{s.count}</div>\n              <div className=\"text-gray-600 text-sm\">{s.status}</div>\n            </div>\n          ))}\n        </div>\n      )}\n      <div className=\"mt-6 text-sm text-gray-600\">Use APIs to delete petitions if needed.</div>\n    </div>\n  );\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,cAAc,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAAa,GAAG,CAAG,KAAM,CAAAX,SAAS,CAAC,CAAC,CAC7BQ,OAAO,CAACG,GAAG,CAAC,CACd,CAAE,MAAOC,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACZJ,QAAQ,CAAC,CAAAE,GAAG,SAAHA,GAAG,kBAAAC,aAAA,CAAHD,GAAG,CAAEG,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAeN,IAAI,UAAAO,kBAAA,iBAAnBA,kBAAA,CAAqBE,OAAO,GAAI,0BAA0B,CAAC,CACtE,CACF,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEX,KAAA,QAAKY,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBf,IAAA,OAAIc,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,CAC/DT,KAAK,eAAIN,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAET,KAAK,CAAM,CAAC,CACpDF,IAAI,eACHF,KAAA,QAAKY,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDb,KAAA,QAAKY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1Cf,IAAA,QAAKc,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEX,IAAI,CAACY,MAAM,CAACC,KAAK,CAAM,CAAC,cACjEjB,IAAA,QAAKc,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,OAAK,CAAK,CAAC,EAC/C,CAAC,cACNb,KAAA,QAAKY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1Cf,IAAA,QAAKc,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEX,IAAI,CAACY,MAAM,CAACE,QAAQ,CAAM,CAAC,cACpElB,IAAA,QAAKc,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAK,CAAC,EAClD,CAAC,CACLX,IAAI,CAACe,QAAQ,CAACC,GAAG,CAAEC,CAAC,eACnBnB,KAAA,QAAoBY,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eACzDf,IAAA,QAAKc,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEM,CAAC,CAACC,KAAK,CAAM,CAAC,cACvDtB,IAAA,QAAKc,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEM,CAAC,CAACE,MAAM,CAAM,CAAC,GAF/CF,CAAC,CAACE,MAGP,CACN,CAAC,EACC,CACN,cACDvB,IAAA,QAAKc,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,yCAAuC,CAAK,CAAC,EACtF,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}